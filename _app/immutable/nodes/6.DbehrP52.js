import{s as d,e as m,c as g,k as l,b as p,i as f,n as r,d as u,o as h}from"../chunks/scheduler.BZk8TU8a.js";import{S as w,i as x}from"../chunks/index.CsWC3knp.js";import{W as v}from"../chunks/main.D8RZwWgc.js";import{g as S}from"../chunks/stores.DGqWjAEG.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.BXgmfzrK.js";import{g as i}from"../chunks/entry.Debqq_31.js";function _(n){let t,s='<div class="grid grid-cols-2 w-4/5"></div> <p class="text-3xl text-warning-500">Under construction!</p>';return{c(){t=m("div"),t.innerHTML=s,this.h()},l(e){t=g(e,"DIV",{class:!0,"data-svelte-h":!0}),l(t)!=="svelte-1drt8eo"&&(t.innerHTML=s),this.h()},h(){p(t,"class","container")},m(e,a){f(e,t,a)},p:r,i:r,o:r,d(e){e&&u(t)}}}function b(n){const t=S();h(async()=>{Number.parseInt(sessionStorage.getItem("expiry")??"0")<Date.now()&&await i("/");let e=await s();e.absences,new Map(Object.entries(e.summary))});async function s(){const e={headers:{"Accept-Encoding":"br",Authorization:`Bearer ${sessionStorage.getItem("token")}`}},a=await fetch(`${v}/attendance`,e);if(a.headers.has("set-token")&&sessionStorage.setItem("token",a.headers.get("set-token")),a.status!=200){let o=await a.text();const c={message:`${o}`,background:"variant-filled-error bg-gradient-to-r from-error-400 to-error-600",timeout:3e3};throw t.trigger(c),await i("/grades"),new Error(o)}return JSON.parse(await a.text())}return[]}class E extends w{constructor(t){super(),x(this,t,b,_,d,{})}}export{E as component};

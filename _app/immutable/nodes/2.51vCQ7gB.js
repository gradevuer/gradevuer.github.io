import{s as de,l as fe,e as d,m as C,R as pe,c as f,d as p,p as x,a as A,k as D,b as c,g as r,i as N,S as M,r as W,u as me,y as he,o as ge,f as se,t as le,q as ne,v as _e,n as w}from"../chunks/scheduler.DMWpDARK.js";import{h as ee,u as ve}from"../chunks/await_block.BGO7msMI.js";import{S as be,i as ke,b as ye,c as re,a as oe,m as ie,t as F,d as G,e as ce}from"../chunks/index.BR94DFz2.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.Q42aMCKc.js";import{P as Se}from"../chunks/ProgressBar.DFrBN768.js";import{S as Ee}from"../chunks/SlideToggle.D7rq-FRo.js";import{g as te}from"../chunks/entry.YGwueSkx.js";import{W as we}from"../chunks/main.DlQOQXQP.js";import{u as Ie}from"../chunks/pack.CTx6hWTx.js";import{b as $e,a as Ce}from"../chunks/util.UZ_QSrM9.js";function xe(l){let e;return{c(){e=le("Remember me")},l(t){e=ne(t,"Remember me")},m(t,a){N(t,e,a)},d(t){t&&p(e)}}}function Ae(l){let e,t,a,s="Error",n,o,y=l[9].message+"",S;return{c(){e=d("aside"),t=d("div"),a=d("h3"),a.textContent=s,n=C(),o=d("p"),S=le(y),this.h()},l(i){e=f(i,"ASIDE",{class:!0});var b=A(e);t=f(b,"DIV",{class:!0});var _=A(t);a=f(_,"H3",{class:!0,"data-svelte-h":!0}),D(a)!=="svelte-mmnhjy"&&(a.textContent=s),n=x(_),o=f(_,"P",{});var v=A(o);S=ne(v,y),v.forEach(p),_.forEach(p),b.forEach(p),this.h()},h(){c(a,"class","h3"),c(t,"class","alert-message -3"),c(e,"class","alert errorw incorrect variant-ghost-error text-left svelte-1rgklt7"),se(e,"margin-top","10px")},m(i,b){N(i,e,b),r(e,t),r(t,a),r(t,n),r(t,o),r(o,S)},p(i,b){b&8&&y!==(y=i[9].message+"")&&_e(S,y)},i:w,o:w,d(i){i&&p(e)}}}function Te(l){return{c:w,l:w,m:w,p:w,i:w,o:w,d:w}}function Le(l){let e,t,a;return t=new Se({props:{meter:"bg-gradient-to-r from-secondary-400 to-secondary-600"}}),{c(){e=d("div"),re(t.$$.fragment),this.h()},l(s){e=f(s,"DIV",{class:!0});var n=A(e);oe(t.$$.fragment,n),n.forEach(p),this.h()},h(){c(e,"class","loading svelte-1rgklt7")},m(s,n){N(s,e,n),ie(t,e,null),a=!0},p:w,i(s){a||(F(t.$$.fragment,s),a=!0)},o(s){G(t.$$.fragment,s),a=!1},d(s){s&&p(e),ce(t)}}}function ae(l){let e,t='<div class="alert-message -3"><h3 class="h3">New Feature</h3> <p>Try out exporting your StudentVue data to a file!</p></div>';return{c(){e=d("aside"),e.innerHTML=t,this.h()},l(a){e=f(a,"ASIDE",{class:!0,"data-svelte-h":!0}),D(e)!=="svelte-1bf68jo"&&(e.innerHTML=t),this.h()},h(){c(e,"class","alert errorw incorrect variant-ghost-success text-left svelte-1rgklt7"),se(e,"margin-top","10px")},m(a,s){N(a,e,s)},d(a){a&&p(e)}}}function Pe(l){let e,t,a,s,n,o,y="Username",S,i,b,_,v,P="Password",T,E,O,B,I,Y,q,$,K="Login",z,R,U,V,J,X;function ue(g){l[7](g)}let Q={name:"cookie",active:"bg-gradient-to-r from-secondary-200 to-secondary-700",size:"sm",$$slots:{default:[xe]},$$scope:{ctx:l}};l[0]!==void 0&&(Q.checked=l[0]),I=new Ee({props:Q}),fe.push(()=>ye(I,"checked",ue));let m={ctx:l,current:null,token:null,hasCatch:!0,pending:Le,then:Te,catch:Ae,error:9,blocks:[,,,]};ee(R=l[3],m);let h=!l[3]&&ae();return{c(){e=d("meta"),t=C(),a=d("div"),s=d("div"),n=d("label"),o=d("span"),o.textContent=y,S=C(),i=d("input"),b=C(),_=d("label"),v=d("span"),v.textContent=P,T=C(),E=d("input"),O=C(),B=d("label"),re(I.$$.fragment),q=C(),$=d("button"),$.textContent=K,z=C(),m.block.c(),U=C(),h&&h.c(),this.h()},l(g){const u=pe("svelte-1il1nia",document.head);e=f(u,"META",{name:!0,content:!0}),u.forEach(p),t=x(g),a=f(g,"DIV",{class:!0});var k=A(a);s=f(k,"DIV",{class:!0});var L=A(s);n=f(L,"LABEL",{class:!0});var j=A(n);o=f(j,"SPAN",{"data-svelte-h":!0}),D(o)!=="svelte-9difb2"&&(o.textContent=y),S=x(j),i=f(j,"INPUT",{class:!0,placeholder:!0}),j.forEach(p),b=x(L),_=f(L,"LABEL",{class:!0});var H=A(_);v=f(H,"SPAN",{"data-svelte-h":!0}),D(v)!=="svelte-1kvjhoz"&&(v.textContent=P),T=x(H),E=f(H,"INPUT",{class:!0,type:!0,placeholder:!0}),H.forEach(p),O=x(L),B=f(L,"LABEL",{class:!0});var Z=A(B);oe(I.$$.fragment,Z),Z.forEach(p),q=x(L),$=f(L,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),D($)!=="svelte-1srbuiy"&&($.textContent=K),L.forEach(p),z=x(k),m.block.l(k),U=x(k),h&&h.l(k),k.forEach(p),this.h()},h(){c(e,"name","google-site-verification"),c(e,"content","4YFyS1a7Ixvl_XHgVYcScG1RK3fXqElYSWJ_fvvYiyg"),c(i,"class","input"),c(i,"placeholder","id"),c(n,"class","label text-left"),c(E,"class","input"),c(E,"type","password"),c(E,"placeholder","password"),c(_,"class","label text-left"),c(B,"class","flex items-center space-x-2"),c($,"type","button"),c($,"class","btn login bg-gradient-to-br variant-gradient-primary-tertiary svelte-1rgklt7"),c(s,"class","card p-4 window text-token space-y-4 text-center svelte-1rgklt7"),c(a,"class","container")},m(g,u){r(document.head,e),N(g,t,u),N(g,a,u),r(a,s),r(s,n),r(n,o),r(n,S),r(n,i),M(i,l[1]),r(s,b),r(s,_),r(_,v),r(_,T),r(_,E),M(E,l[2]),r(s,O),r(s,B),ie(I,B,null),r(s,q),r(s,$),r(a,z),m.block.m(a,m.anchor=null),m.mount=()=>a,m.anchor=U,r(a,U),h&&h.m(a,null),V=!0,J||(X=[W(i,"input",l[5]),W(E,"input",l[6]),W($,"click",l[8])],J=!0)},p(g,[u]){l=g,u&2&&i.value!==l[1]&&M(i,l[1]),u&4&&E.value!==l[2]&&M(E,l[2]);const k={};u&1024&&(k.$$scope={dirty:u,ctx:l}),!Y&&u&1&&(Y=!0,k.checked=l[0],me(()=>Y=!1)),I.$set(k),m.ctx=l,u&8&&R!==(R=l[3])&&ee(R,m)||ve(m,l,u),l[3]?h&&(h.d(1),h=null):h||(h=ae(),h.c(),h.m(a,null))},i(g){V||(F(I.$$.fragment,g),F(m.block),V=!0)},o(g){G(I.$$.fragment,g);for(let u=0;u<3;u+=1){const k=m.blocks[u];G(k)}V=!1},d(g){g&&(p(t),p(a)),p(e),ce(I),m.block.d(),m.token=null,m=null,h&&h.d(),J=!1,he(X)}}}function Be(l,e,t){ge(async()=>{t(1,n=localStorage.getItem("name")??""),t(2,o=localStorage.getItem("pass")??""),t(0,s=n!=""||o!="")});async function a(){if(n=="admin"&&o=="admin"){te("/admin");return}const v={headers:{"Content-Type":"application/json","Accept-Encoding":"br",Authorization:`Basic ${$e(n+":"+o)}`}},P=await fetch(`${we}/grades`,v);if(P.status!=200)throw new Error(await P.text());s?(localStorage.setItem("name",n),localStorage.setItem("pass",o)):localStorage.clear();let T=Ie(new Uint8Array(await P.arrayBuffer()));sessionStorage.setItem("token",Ce(T.token)),T.token=new Uint8Array,sessionStorage.setItem("data",JSON.stringify(T)),sessionStorage.setItem("cdata",JSON.stringify(T)),sessionStorage.setItem("expiry",(Date.now()+1e3*60*15).toString()),await te("/grades")}let s=!1,n="",o="",y;function S(){n=this.value,t(1,n)}function i(){o=this.value,t(2,o)}function b(v){s=v,t(0,s)}return[s,n,o,y,a,S,i,b,()=>{t(3,y=a())}]}class qe extends be{constructor(e){super(),ke(this,e,Be,Pe,de,{})}}export{qe as component};

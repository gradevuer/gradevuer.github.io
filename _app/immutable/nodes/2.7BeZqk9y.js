import{s as pe,q as fe,e as p,r as A,R as me,c as f,d,v as N,a as $,u as B,b as u,g as i,i as P,S as J,x as G,y as he,C as _e,T as ge,t as le,w as ne,f as re,n as b,L as te,z as be}from"../chunks/scheduler.DG6l68wi.js";import{h as se,u as ve}from"../chunks/await_block.exjUfyNZ.js";import{S as ke,i as ye,b as Se,c as oe,a as ie,m as ce,d as O,f as we,t as U,e as ue,g as Ee}from"../chunks/index.DYfo6iJA.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.CVYdIOV9.js";import{P as Ie}from"../chunks/ProgressBar.eCJQpjw_.js";import{S as Ce}from"../chunks/SlideToggle.BuH3OPHl.js";import{g as ae}from"../chunks/entry.C2cs8Lu9.js";import{W as $e}from"../chunks/main.D8RZwWgc.js";import{b as xe}from"../chunks/util.BWaUixtN.js";function Le(r){let t;return{c(){t=le("Remember me")},l(s){t=ne(s,"Remember me")},m(s,a){P(s,t,a)},d(s){s&&d(t)}}}function Te(r){let t,s='<div class="alert-message -3"><h3 class="h3">New feature</h3> <p>Try downloading your data!</p></div>';return{c(){t=p("aside"),t.innerHTML=s,this.h()},l(a){t=f(a,"ASIDE",{class:!0,"data-svelte-h":!0}),B(t)!=="svelte-1lvocc3"&&(t.innerHTML=s),this.h()},h(){u(t,"class","alert errorw incorrect variant-ghost-success text-left svelte-1rgklt7"),re(t,"margin-top","10px")},m(a,e){P(a,t,e)},p:b,i:b,o:b,d(a){a&&d(t)}}}function Ae(r){let t,s,a,e={ctx:r,current:null,token:null,hasCatch:!0,pending:De,then:Pe,catch:Ne,error:9,blocks:[,,,]};return se(s=r[3],e),{c(){t=te(),e.block.c()},l(l){t=te(),e.block.l(l)},m(l,n){P(l,t,n),e.block.m(l,e.anchor=n),e.mount=()=>t.parentNode,e.anchor=t,a=!0},p(l,n){r=l,e.ctx=r,n&8&&s!==(s=r[3])&&se(s,e)||ve(e,r,n)},i(l){a||(U(e.block),a=!0)},o(l){for(let n=0;n<3;n+=1){const _=e.blocks[n];O(_)}a=!1},d(l){l&&d(t),e.block.d(l),e.token=null,e=null}}}function Ne(r){let t,s,a,e="Error",l,n,_=r[9].message+"",w;return{c(){t=p("aside"),s=p("div"),a=p("h3"),a.textContent=e,l=A(),n=p("p"),w=le(_),this.h()},l(c){t=f(c,"ASIDE",{class:!0});var v=$(t);s=f(v,"DIV",{class:!0});var m=$(s);a=f(m,"H3",{class:!0,"data-svelte-h":!0}),B(a)!=="svelte-mmnhjy"&&(a.textContent=e),l=N(m),n=f(m,"P",{});var g=$(n);w=ne(g,_),g.forEach(d),m.forEach(d),v.forEach(d),this.h()},h(){u(a,"class","h3"),u(s,"class","alert-message -3"),u(t,"class","alert errorw incorrect variant-ghost-error text-left svelte-1rgklt7"),re(t,"margin-top","10px")},m(c,v){P(c,t,v),i(t,s),i(s,a),i(s,l),i(s,n),i(n,w)},p(c,v){v&8&&_!==(_=c[9].message+"")&&be(w,_)},i:b,o:b,d(c){c&&d(t)}}}function Pe(r){return{c:b,l:b,m:b,p:b,i:b,o:b,d:b}}function De(r){let t,s,a;return s=new Ie({props:{meter:"bg-gradient-to-r from-secondary-400 to-secondary-600"}}),{c(){t=p("div"),oe(s.$$.fragment),this.h()},l(e){t=f(e,"DIV",{class:!0});var l=$(t);ie(s.$$.fragment,l),l.forEach(d),this.h()},h(){u(t,"class","loading svelte-1rgklt7")},m(e,l){P(e,t,l),ce(s,t,null),a=!0},p:b,i(e){a||(U(s.$$.fragment,e),a=!0)},o(e){O(s.$$.fragment,e),a=!1},d(e){e&&d(t),ue(s)}}}function Re(r){let t,s,a,e,l,n,_="Username",w,c,v,m,g,x="Password",D,E,M,R,I,Y,j,C,K="Login",q,k,y,V,W,X;function de(o){r[7](o)}let F={name:"cookie",active:"bg-gradient-to-r from-secondary-200 to-secondary-700",size:"sm",$$slots:{default:[Le]},$$scope:{ctx:r}};r[0]!==void 0&&(F.checked=r[0]),I=new Ce({props:F}),fe.push(()=>Se(I,"checked",de));const Q=[Ae,Te],L=[];function Z(o,h){return o[3]?0:1}return k=Z(r),y=L[k]=Q[k](r),{c(){t=p("meta"),s=A(),a=p("div"),e=p("div"),l=p("label"),n=p("span"),n.textContent=_,w=A(),c=p("input"),v=A(),m=p("label"),g=p("span"),g.textContent=x,D=A(),E=p("input"),M=A(),R=p("label"),oe(I.$$.fragment),j=A(),C=p("button"),C.textContent=K,q=A(),y.c(),this.h()},l(o){const h=me("svelte-1il1nia",document.head);t=f(h,"META",{name:!0,content:!0}),h.forEach(d),s=N(o),a=f(o,"DIV",{class:!0});var T=$(a);e=f(T,"DIV",{class:!0});var S=$(e);l=f(S,"LABEL",{class:!0});var z=$(l);n=f(z,"SPAN",{"data-svelte-h":!0}),B(n)!=="svelte-9difb2"&&(n.textContent=_),w=N(z),c=f(z,"INPUT",{class:!0,placeholder:!0}),z.forEach(d),v=N(S),m=f(S,"LABEL",{class:!0});var H=$(m);g=f(H,"SPAN",{"data-svelte-h":!0}),B(g)!=="svelte-1kvjhoz"&&(g.textContent=x),D=N(H),E=f(H,"INPUT",{class:!0,type:!0,placeholder:!0}),H.forEach(d),M=N(S),R=f(S,"LABEL",{class:!0});var ee=$(R);ie(I.$$.fragment,ee),ee.forEach(d),j=N(S),C=f(S,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),B(C)!=="svelte-1srbuiy"&&(C.textContent=K),S.forEach(d),q=N(T),y.l(T),T.forEach(d),this.h()},h(){u(t,"name","google-site-verification"),u(t,"content","4YFyS1a7Ixvl_XHgVYcScG1RK3fXqElYSWJ_fvvYiyg"),u(c,"class","input"),u(c,"placeholder","id"),u(l,"class","label text-left"),u(E,"class","input"),u(E,"type","password"),u(E,"placeholder","password"),u(m,"class","label text-left"),u(R,"class","flex items-center space-x-2"),u(C,"type","button"),u(C,"class","btn login bg-gradient-to-br variant-gradient-primary-tertiary svelte-1rgklt7"),u(e,"class","card p-4 window text-token space-y-4 text-center svelte-1rgklt7"),u(a,"class","container")},m(o,h){i(document.head,t),P(o,s,h),P(o,a,h),i(a,e),i(e,l),i(l,n),i(l,w),i(l,c),J(c,r[1]),i(e,v),i(e,m),i(m,g),i(m,D),i(m,E),J(E,r[2]),i(e,M),i(e,R),ce(I,R,null),i(e,j),i(e,C),i(a,q),L[k].m(a,null),V=!0,W||(X=[G(c,"input",r[5]),G(E,"input",r[6]),G(C,"click",r[8])],W=!0)},p(o,[h]){h&2&&c.value!==o[1]&&J(c,o[1]),h&4&&E.value!==o[2]&&J(E,o[2]);const T={};h&1024&&(T.$$scope={dirty:h,ctx:o}),!Y&&h&1&&(Y=!0,T.checked=o[0],he(()=>Y=!1)),I.$set(T);let S=k;k=Z(o),k===S?L[k].p(o,h):(Ee(),O(L[S],1,1,()=>{L[S]=null}),we(),y=L[k],y?y.p(o,h):(y=L[k]=Q[k](o),y.c()),U(y,1),y.m(a,null))},i(o){V||(U(I.$$.fragment,o),U(y),V=!0)},o(o){O(I.$$.fragment,o),O(y),V=!1},d(o){o&&(d(s),d(a)),d(t),ue(I),L[k].d(),W=!1,_e(X)}}}function Be(r,t,s){ge(async()=>{s(1,l=localStorage.getItem("name")??""),s(2,n=localStorage.getItem("pass")??""),s(0,e=l!=""||n!="")});async function a(){if(l=="admin"&&n=="admin"){ae("/admin");return}const g={headers:{"Content-Type":"application/json","Accept-Encoding":"br",Authorization:`Basic ${xe(l+":"+n)}`,district:"md-mcps-psv.edupoint.com"}},x=await fetch(`${$e}/grades`,g);if(x.status!=200)throw new Error(await x.text());e?(localStorage.setItem("name",l),localStorage.setItem("pass",n)):localStorage.clear(),x.headers.has("set-token")&&sessionStorage.setItem("token",x.headers.get("set-token")),sessionStorage.setItem("expiry",(Date.now()+1e3*60*60).toString());let D=JSON.parse(await x.text());sessionStorage.setItem("data",JSON.stringify(D)),sessionStorage.setItem("cdata",JSON.stringify(D)),await ae("/grades")}let e=!1,l="",n="",_;function w(){l=this.value,s(1,l)}function c(){n=this.value,s(2,n)}function v(g){e=g,s(0,e)}return[e,l,n,_,a,w,c,v,()=>{s(3,_=a())}]}class qe extends ke{constructor(t){super(),ye(this,t,Be,Re,pe,{})}}export{qe as component};

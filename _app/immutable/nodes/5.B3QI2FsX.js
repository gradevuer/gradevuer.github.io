import{s as z,O as B,e as S,I as y,c as T,a as w,k as J,K as I,d as $,b as D,i as R,g,P as M,F as q,o as C,H as N,J as O,N as P}from"../chunks/scheduler.CUUnO8oO.js";import{S as K,i as V,f as W,b as F,d as U,m as Y,a as j,t as G,e as Q}from"../chunks/index.ClMIGeE-.js";import{e as x}from"../chunks/each.C2NSvMDp.js";import{W as X}from"../chunks/main.DlQOQXQP.js";import{g as Z}from"../chunks/stores.BgEgqkEF.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.Cvy6ODCQ.js";import{P as tt}from"../chunks/Paginator.lMMt3m72.js";import{g as et}from"../chunks/entry.CvC0Xdl5.js";function A(i,e,s){const n=i.slice();return n[5]=e[s],n}function H(i){let e,s,n=i[5].name+"",l,b,v,d=new Date(i[5].timestamp).toLocaleString()+"",m,c,f,h=i[5].suggestion+"",u,a;return{c(){e=S("tr"),s=S("td"),l=N(n),b=y(),v=S("td"),m=N(d),c=y(),f=S("td"),u=N(h),a=y(),this.h()},l(E){e=T(E,"TR",{});var r=w(e);s=T(r,"TD",{class:!0});var t=w(s);l=O(t,n),t.forEach($),b=I(r),v=T(r,"TD",{class:!0});var _=w(v);m=O(_,d),_.forEach($),c=I(r),f=T(r,"TD",{class:!0});var p=w(f);u=O(p,h),p.forEach($),a=I(r),r.forEach($),this.h()},h(){D(s,"class","svelte-1esh4ox"),D(v,"class","svelte-1esh4ox"),D(f,"class","svelte-1esh4ox")},m(E,r){R(E,e,r),g(e,s),g(s,l),g(e,b),g(e,v),g(v,m),g(e,c),g(e,f),g(f,u),g(e,a)},p(E,r){r&2&&n!==(n=E[5].name+"")&&P(l,n),r&2&&d!==(d=new Date(E[5].timestamp).toLocaleString()+"")&&P(m,d),r&2&&h!==(h=E[5].suggestion+"")&&P(u,h)},d(E){E&&$(e)}}}function at(i){let e,s,n,l,b="<tr><th>Name</th> <th>Time</th> <th>Suggestion</th></tr>",v,d,m,c,f,h,u=x(i[1]),a=[];for(let t=0;t<u.length;t+=1)a[t]=H(A(i,u,t));function E(t){i[2](t)}let r={showNumerals:!0,maxNumerals:1};return i[0]!==void 0&&(r.settings=i[0]),c=new tt({props:r}),B.push(()=>W(c,"settings",E)),{c(){e=S("div"),s=S("div"),n=S("table"),l=S("thead"),l.innerHTML=b,v=y(),d=S("tbody");for(let t=0;t<a.length;t+=1)a[t].c();m=y(),F(c.$$.fragment),this.h()},l(t){e=T(t,"DIV",{class:!0});var _=w(e);s=T(_,"DIV",{class:!0});var p=w(s);n=T(p,"TABLE",{class:!0});var o=w(n);l=T(o,"THEAD",{"data-svelte-h":!0}),J(l)!=="svelte-mzktsq"&&(l.innerHTML=b),v=I(o),d=T(o,"TBODY",{});var k=w(d);for(let L=0;L<a.length;L+=1)a[L].l(k);k.forEach($),o.forEach($),p.forEach($),m=I(_),U(c.$$.fragment,_),_.forEach($),this.h()},h(){D(n,"class","table table-fixed"),D(s,"class","table-container w-4/5 pb-5"),D(e,"class","container")},m(t,_){R(t,e,_),g(e,s),g(s,n),g(n,l),g(n,v),g(n,d);for(let p=0;p<a.length;p+=1)a[p]&&a[p].m(d,null);g(e,m),Y(c,e,null),h=!0},p(t,[_]){if(_&2){u=x(t[1]);let o;for(o=0;o<u.length;o+=1){const k=A(t,u,o);a[o]?a[o].p(k,_):(a[o]=H(k),a[o].c(),a[o].m(d,null))}for(;o<a.length;o+=1)a[o].d(1);a.length=u.length}const p={};!f&&_&1&&(f=!0,p.settings=t[0],M(()=>f=!1)),c.$set(p)},i(t){h||(j(c.$$.fragment,t),h=!0)},o(t){G(c.$$.fragment,t),h=!1},d(t){t&&$(e),q(a,t),Q(c)}}}function st(i,e,s){const n=Z();let l=[],b={page:0,limit:50,size:1/0,amounts:[50]};C(async()=>{sessionStorage.getItem("admin_pass")==null&&await et("/admin"),s(1,l=JSON.parse(sessionStorage.get("suggestion_data")))});async function v(m){const c={headers:{"Accept-Encoding":"br",Authorization:`Basic ${btoa("admin:"+sessionStorage.getItem("admin_pass"))}`}},f=await fetch(`${X}/suggestions/${m}`,c);let h=await f.text();if(f.status!=200){const u={message:`${h}`,background:"variant-filled-error bg-gradient-to-r from-error-400 to-error-600",timeout:3e3};throw n.trigger(u),new Error(h)}return JSON.parse(h)}function d(m){b=m,s(0,b)}return i.$$.update=()=>{i.$$.dirty&1&&v(b.page).then(m=>{s(1,l=m)})},[b,l,d]}class mt extends K{constructor(e){super(),V(this,e,st,at,z,{})}}export{mt as component};

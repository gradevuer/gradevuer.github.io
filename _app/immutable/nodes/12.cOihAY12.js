import{s as Pe,e as o,l as T,t as A,c as i,a as m,d as u,m as S,p as I,k as Ce,b,i as ye,g as e,J as Ae,q as $e,r as N,M as Ne,o as Ve}from"../chunks/scheduler.BhNCGW4c.js";import{S as ke,i as Be,b as Re,d as ze,m as Me,a as qe,t as He,e as Oe}from"../chunks/index.By4zub_x.js";import{e as Ie}from"../chunks/each.CYVRkUBn.js";import{P as Ue}from"../chunks/pageSelector.UFOusoNK.js";import{W as xe}from"../chunks/main.DlQOQXQP.js";import{g as Je}from"../chunks/stores.Bs2cUqnn.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.BXlGj4x9.js";import{g as Te}from"../chunks/entry.C8l_-luy.js";import{u as We}from"../chunks/pack.CTx6hWTx.js";function Ge(s,t){const l=t.length,r=s.length;if(r>l)return!1;if(r===l)return s===t;e:for(var _=0,d=0;_<r;_++){for(var c=s.charCodeAt(_);d<l;)if(t.charCodeAt(d++)===c)continue e;return!1}return!0}function Se(s,t,l){const r=s.slice();return r[7]=t[l],r}function je(s){let t,l,r=s[7].name+"",_,d,c,v=s[7].email+"",D,j,w,E=s[7].job_title+"",L,y;return{c(){t=o("tr"),l=o("td"),_=A(r),d=T(),c=o("td"),D=A(v),j=T(),w=o("td"),L=A(E),y=T(),this.h()},l(n){t=i(n,"TR",{});var p=m(t);l=i(p,"TD",{class:!0});var B=m(l);_=I(B,r),B.forEach(u),d=S(p),c=i(p,"TD",{class:!0});var q=m(c);D=I(q,v),q.forEach(u),j=S(p),w=i(p,"TD",{class:!0});var V=m(w);L=I(V,E),V.forEach(u),y=S(p),p.forEach(u),this.h()},h(){b(l,"class","svelte-jj0ldd"),b(c,"class","break-words svelte-jj0ldd"),b(w,"class","svelte-jj0ldd")},m(n,p){ye(n,t,p),e(t,l),e(l,_),e(t,d),e(t,c),e(c,D),e(t,j),e(t,w),e(w,L),e(t,y)},p(n,p){p&4&&r!==(r=n[7].name+"")&&N(_,r),p&4&&v!==(v=n[7].email+"")&&N(D,v),p&4&&E!==(E=n[7].job_title+"")&&N(L,E)},d(n){n&&u(t)}}}function Ke(s){let t,l,r,_,d,c,v,D,j=s[1].name+"",w,E,L,y,n,p=s[1].address+"",B,q,V=s[1].city+"",X,le,Y=s[1].state+"",Z,re,P,R,ne,F=s[1].phone_number+"",ee,oe,ie,ce,z,de,Q=s[1].principal_email+"",te,fe,H,$,ue,O,k,U,ge="<tr><th>Name</th> <th>Email</th> <th>Job Title</th></tr>",pe,x,C,he,be;r=new Ue({props:{classes:"select variant-ghost-primary",selected:"school info"}});let J=Ie(s[2]),g=[];for(let a=0;a<J.length;a+=1)g[a]=je(Se(s,J,a));return{c(){t=o("div"),l=o("div"),Re(r.$$.fragment),_=T(),d=o("div"),c=o("div"),v=o("div"),D=o("span"),w=A(j),E=T(),L=o("br"),y=T(),n=o("span"),B=A(p),q=A(", "),X=A(V),le=A(", "),Z=A(Y),re=T(),P=o("div"),R=o("span"),ne=A("Contact: "),ee=A(F),oe=T(),ie=o("br"),ce=T(),z=o("span"),de=A("Prinicpal: "),te=A(Q),fe=T(),H=o("label"),$=o("input"),ue=T(),O=o("div"),k=o("table"),U=o("thead"),U.innerHTML=ge,pe=T(),x=o("tbody");for(let a=0;a<g.length;a+=1)g[a].c();this.h()},l(a){t=i(a,"DIV",{class:!0});var h=m(t);l=i(h,"DIV",{class:!0});var f=m(l);ze(r.$$.fragment,f),f.forEach(u),_=S(h),d=i(h,"DIV",{class:!0});var M=m(d);c=i(M,"DIV",{class:!0});var ae=m(c);v=i(ae,"DIV",{});var W=m(v);D=i(W,"SPAN",{class:!0});var Ee=m(D);w=I(Ee,j),Ee.forEach(u),E=S(W),L=i(W,"BR",{}),y=S(W),n=i(W,"SPAN",{class:!0});var G=m(n);B=I(G,p),q=I(G,", "),X=I(G,V),le=I(G,", "),Z=I(G,Y),G.forEach(u),W.forEach(u),re=S(ae),P=i(ae,"DIV",{class:!0});var K=m(P);R=i(K,"SPAN",{class:!0});var me=m(R);ne=I(me,"Contact: "),ee=I(me,F),me.forEach(u),oe=S(K),ie=i(K,"BR",{}),ce=S(K),z=i(K,"SPAN",{class:!0});var _e=m(z);de=I(_e,"Prinicpal: "),te=I(_e,Q),_e.forEach(u),K.forEach(u),ae.forEach(u),fe=S(M),H=i(M,"LABEL",{class:!0});var we=m(H);$=i(we,"INPUT",{class:!0,placeholder:!0}),we.forEach(u),M.forEach(u),ue=S(h),O=i(h,"DIV",{class:!0});var Le=m(O);k=i(Le,"TABLE",{class:!0});var se=m(k);U=i(se,"THEAD",{"data-svelte-h":!0}),Ce(U)!=="svelte-1w51ud0"&&(U.innerHTML=ge),pe=S(se),x=i(se,"TBODY",{});var De=m(x);for(let ve=0;ve<g.length;ve+=1)g[ve].l(De);De.forEach(u),se.forEach(u),Le.forEach(u),h.forEach(u),this.h()},h(){b(l,"class","grid grid-cols-2 w-4/5"),b(D,"class","text-3xl"),b(n,"class","text-xl md:text-2xl"),b(R,"class","text-2xl"),b(z,"class","text-xl md:text-2xl break-words"),b(P,"class","pt-4 md:pt-0 md:justify-self-end"),b(c,"class","card pt-1 px-2 pb-4 grid md:grid-cols-2"),b($,"class","input"),b($,"placeholder","staff name"),b(H,"class","inp_size pt-4 svelte-jj0ldd"),b(d,"class","w-4/5"),b(k,"class","table table-fixed"),b(O,"class","table-container w-4/5 pt-2"),b(t,"class","container")},m(a,h){ye(a,t,h),e(t,l),Me(r,l,null),e(t,_),e(t,d),e(d,c),e(c,v),e(v,D),e(D,w),e(v,E),e(v,L),e(v,y),e(v,n),e(n,B),e(n,q),e(n,X),e(n,le),e(n,Z),e(c,re),e(c,P),e(P,R),e(R,ne),e(R,ee),e(P,oe),e(P,ie),e(P,ce),e(P,z),e(z,de),e(z,te),e(d,fe),e(d,H),e(H,$),Ae($,s[0]),e(t,ue),e(t,O),e(O,k),e(k,U),e(k,pe),e(k,x);for(let f=0;f<g.length;f+=1)g[f]&&g[f].m(x,null);C=!0,he||(be=$e($,"input",s[3]),he=!0)},p(a,[h]){if((!C||h&2)&&j!==(j=a[1].name+"")&&N(w,j),(!C||h&2)&&p!==(p=a[1].address+"")&&N(B,p),(!C||h&2)&&V!==(V=a[1].city+"")&&N(X,V),(!C||h&2)&&Y!==(Y=a[1].state+"")&&N(Z,Y),(!C||h&2)&&F!==(F=a[1].phone_number+"")&&N(ee,F),(!C||h&2)&&Q!==(Q=a[1].principal_email+"")&&N(te,Q),h&1&&$.value!==a[0]&&Ae($,a[0]),h&4){J=Ie(a[2]);let f;for(f=0;f<J.length;f+=1){const M=Se(a,J,f);g[f]?g[f].p(M,h):(g[f]=je(M),g[f].c(),g[f].m(x,null))}for(;f<g.length;f+=1)g[f].d(1);g.length=J.length}},i(a){C||(qe(r.$$.fragment,a),C=!0)},o(a){He(r.$$.fragment,a),C=!1},d(a){a&&u(t),Oe(r),Ne(g,a),he=!1,be()}}}function Ye(s,t,l){const r=Je();let _={name:"Loading...",principal:"Loading...",principal_email:"Loading@loading.load",address:"Loading street",city:"Loaded City",state:"LD",zip_code:"12345",phone_number:"1-800-LOA-DING",website:"https://gradevuer.pages.dev/",staff:[]},d="",c=[];Ve(async()=>{Number.parseInt(sessionStorage.getItem("expiry")??"0")<Date.now()&&await Te("/"),l(1,_=await D()),l(2,c=_.staff)});function v(w){let E=[];_.staff.forEach(L=>{let[y,n]=L.name.split(",");Ge(w.toLowerCase(),(n+y).toLowerCase())&&E.push(L)}),l(2,c=E)}async function D(){const w={headers:{"Accept-Encoding":"br",Authorization:`Bearer ${sessionStorage.getItem("token")}`}},E=await fetch(`${xe}/school`,w);if(E.status!=200){let L=await E.text();const y={message:`${L}`,background:"variant-filled-error bg-gradient-to-r from-error-400 to-error-600",timeout:3e3};throw r.trigger(y),await Te("/grades"),new Error(L)}return We(new Uint8Array(await E.arrayBuffer()))}function j(){d=this.value,l(0,d)}return s.$$.update=()=>{s.$$.dirty&1&&v(d)},[d,_,c,j]}class rt extends ke{constructor(t){super(),Be(this,t,Ye,Ke,Pe,{})}}export{rt as component};

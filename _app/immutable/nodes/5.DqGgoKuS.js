import{s as B,K as H,e as $,E as k,c as w,a as y,k as R,G as L,d as S,b as T,i as z,g,L as j,M as q,o as C,D as A,F as I,H as M}from"../chunks/scheduler.HaoJMjUf.js";import{S as K,i as U,f as V,b as W,d as F,m as G,a as J,t as Y,e as Q}from"../chunks/index.G81k-Xhd.js";import{e as O}from"../chunks/each.BvinSC2D.js";import{W as X}from"../chunks/main.DlQOQXQP.js";import{g as Z}from"../chunks/stores.6eYr0iPl.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.F8mDr4Rg.js";import{P as tt}from"../chunks/Paginator.BHBDf8Iq.js";import{g as et}from"../chunks/entry.eBJCx3Ym.js";import{b as at}from"../chunks/util.UZ_QSrM9.js";import{u as st}from"../chunks/pack.CTx6hWTx.js";let nt=!1;const pt=Object.freeze(Object.defineProperty({__proto__:null,ssr:nt},Symbol.toStringTag,{value:"Module"}));function P(i,e,s){const n=i.slice();return n[5]=e[s],n}function x(i){let e,s,n=i[5].name+"",l,v,b,m=new Date(Number(i[5].timestamp)).toLocaleString()+"",d,c,u,f=i[5].suggestion+"",h,a;return{c(){e=$("tr"),s=$("td"),l=A(n),v=k(),b=$("td"),d=A(m),c=k(),u=$("td"),h=A(f),a=k(),this.h()},l(E){e=w(E,"TR",{});var o=y(e);s=w(o,"TD",{class:!0});var t=y(s);l=I(t,n),t.forEach(S),v=L(o),b=w(o,"TD",{class:!0});var _=y(b);d=I(_,m),_.forEach(S),c=L(o),u=w(o,"TD",{class:!0});var p=y(u);h=I(p,f),p.forEach(S),a=L(o),o.forEach(S),this.h()},h(){T(s,"class","svelte-1esh4ox"),T(b,"class","svelte-1esh4ox"),T(u,"class","svelte-1esh4ox")},m(E,o){z(E,e,o),g(e,s),g(s,l),g(e,v),g(e,b),g(b,d),g(e,c),g(e,u),g(u,h),g(e,a)},p(E,o){o&2&&n!==(n=E[5].name+"")&&M(l,n),o&2&&m!==(m=new Date(Number(E[5].timestamp)).toLocaleString()+"")&&M(d,m),o&2&&f!==(f=E[5].suggestion+"")&&M(h,f)},d(E){E&&S(e)}}}function rt(i){let e,s,n,l,v="<tr><th>Name</th> <th>Time</th> <th>Suggestion</th></tr>",b,m,d,c,u,f,h=O(i[1]),a=[];for(let t=0;t<h.length;t+=1)a[t]=x(P(i,h,t));function E(t){i[2](t)}let o={showNumerals:!0,maxNumerals:1};return i[0]!==void 0&&(o.settings=i[0]),c=new tt({props:o}),H.push(()=>V(c,"settings",E)),{c(){e=$("div"),s=$("div"),n=$("table"),l=$("thead"),l.innerHTML=v,b=k(),m=$("tbody");for(let t=0;t<a.length;t+=1)a[t].c();d=k(),W(c.$$.fragment),this.h()},l(t){e=w(t,"DIV",{class:!0});var _=y(e);s=w(_,"DIV",{class:!0});var p=y(s);n=w(p,"TABLE",{class:!0});var r=y(n);l=w(r,"THEAD",{"data-svelte-h":!0}),R(l)!=="svelte-mzktsq"&&(l.innerHTML=v),b=L(r),m=w(r,"TBODY",{});var D=y(m);for(let N=0;N<a.length;N+=1)a[N].l(D);D.forEach(S),r.forEach(S),p.forEach(S),d=L(_),F(c.$$.fragment,_),_.forEach(S),this.h()},h(){T(n,"class","table table-fixed"),T(s,"class","table-container w-4/5 pb-5"),T(e,"class","container")},m(t,_){z(t,e,_),g(e,s),g(s,n),g(n,l),g(n,b),g(n,m);for(let p=0;p<a.length;p+=1)a[p]&&a[p].m(m,null);g(e,d),G(c,e,null),f=!0},p(t,[_]){if(_&2){h=O(t[1]);let r;for(r=0;r<h.length;r+=1){const D=P(t,h,r);a[r]?a[r].p(D,_):(a[r]=x(D),a[r].c(),a[r].m(m,null))}for(;r<a.length;r+=1)a[r].d(1);a.length=h.length}const p={};!u&&_&1&&(u=!0,p.settings=t[0],j(()=>u=!1)),c.$set(p)},i(t){f||(J(c.$$.fragment,t),f=!0)},o(t){Y(c.$$.fragment,t),f=!1},d(t){t&&S(e),q(a,t),Q(c)}}}function ot(i,e,s){const n=Z();let l=[],v={page:0,limit:50,size:1/0,amounts:[50]};C(async()=>{sessionStorage.getItem("admin_pass")==null&&await et("/admin"),s(1,l=JSON.parse(sessionStorage.get("suggestion_data")))});async function b(d){const c={headers:{"Accept-Encoding":"br",Authorization:`Basic ${at("admin:"+sessionStorage.getItem("admin_pass"))}`}},u=await fetch(`${X}/suggestions/${d}`,c);if(u.status!=200){let f=await u.text();const h={message:`${f}`,background:"variant-filled-error bg-gradient-to-r from-error-400 to-error-600",timeout:3e3};throw n.trigger(h),new Error(f)}return st(new Uint8Array(await u.arrayBuffer()))}function m(d){v=d,s(0,v)}return i.$$.update=()=>{i.$$.dirty&1&&b(v.page).then(d=>{s(1,l=d)})},[v,l,m]}class bt extends K{constructor(e){super(),U(this,e,ot,rt,B,{})}}export{bt as component,pt as universal};

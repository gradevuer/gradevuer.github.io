import{s as Ne,e as o,D as T,C as I,c as i,a as m,d as u,F as A,E as S,H as $e,b as E,i as Pe,g as e,I as Ie,J as ke,G as y,T as ye,U as Ve}from"../chunks/scheduler.CxubwLq2.js";import{S as Be,i as Re,b as ze,d as He,m as Oe,a as xe,t as Je,e as Me}from"../chunks/index.D9ug8rk0.js";import{e as Se}from"../chunks/each.BY6V-KCU.js";import{P as Ue}from"../chunks/pageSelector.Bn4X8C0f.js";import{W as je}from"../chunks/main.D8RZwWgc.js";import{g as qe}from"../chunks/stores.Bj6dW65N.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.DH4BMg8D.js";import{g as Te}from"../chunks/entry.CA4QJGtt.js";function Ge(s,t){const l=t.length,r=s.length;if(r>l)return!1;if(r===l)return s===t;e:for(var v=0,d=0;v<r;v++){for(var c=s.charCodeAt(v);d<l;)if(t.charCodeAt(d++)===c)continue e;return!1}return!0}function Ae(s,t,l){const r=s.slice();return r[7]=t[l],r}function Ce(s){let t,l,r=s[7].name+"",v,d,c,g=s[7].email+"",D,C,w,h=s[7].job_title+"",L,P;return{c(){t=o("tr"),l=o("td"),v=I(r),d=T(),c=o("td"),D=I(g),C=T(),w=o("td"),L=I(h),P=T(),this.h()},l(n){t=i(n,"TR",{});var p=m(t);l=i(p,"TD",{class:!0});var R=m(l);v=S(R,r),R.forEach(u),d=A(p),c=i(p,"TD",{class:!0});var x=m(c);D=S(x,g),x.forEach(u),C=A(p),w=i(p,"TD",{class:!0});var V=m(w);L=S(V,h),V.forEach(u),P=A(p),p.forEach(u),this.h()},h(){E(l,"class","svelte-1awoh19"),E(c,"class","break-words svelte-1awoh19"),E(w,"class","svelte-1awoh19")},m(n,p){Pe(n,t,p),e(t,l),e(l,v),e(t,d),e(t,c),e(c,D),e(t,C),e(t,w),e(w,L),e(t,P)},p(n,p){p&4&&r!==(r=n[7].name+"")&&y(v,r),p&4&&g!==(g=n[7].email+"")&&y(D,g),p&4&&h!==(h=n[7].job_title+"")&&y(L,h)},d(n){n&&u(t)}}}function We(s){let t,l,r,v,d,c,g,D,C=s[1].name+"",w,h,L,P,n,p=s[1].address+"",R,x,V=s[1].city+"",X,le,K=s[1].state+"",Z,re,N,z,ne,Y=s[1].phone_number+"",ee,oe,ie,ce,H,de,Q=s[1].principal_email+"",te,fe,J,k,ue,M,B,U,ge="<tr><th>Name</th> <th>Email</th> <th>Job Title</th></tr>",pe,j,$,he,be;r=new Ue({props:{classes:"select variant-ghost-primary",selected:"school info"}});let q=Se(s[2]),b=[];for(let a=0;a<q.length;a+=1)b[a]=Ce(Ae(s,q,a));return{c(){t=o("div"),l=o("div"),ze(r.$$.fragment),v=T(),d=o("div"),c=o("div"),g=o("div"),D=o("span"),w=I(C),h=T(),L=o("br"),P=T(),n=o("span"),R=I(p),x=I(", "),X=I(V),le=I(", "),Z=I(K),re=T(),N=o("div"),z=o("span"),ne=I("Contact: "),ee=I(Y),oe=T(),ie=o("br"),ce=T(),H=o("span"),de=I("Prinicpal: "),te=I(Q),fe=T(),J=o("label"),k=o("input"),ue=T(),M=o("div"),B=o("table"),U=o("thead"),U.innerHTML=ge,pe=T(),j=o("tbody");for(let a=0;a<b.length;a+=1)b[a].c();this.h()},l(a){t=i(a,"DIV",{class:!0});var _=m(t);l=i(_,"DIV",{class:!0});var f=m(l);He(r.$$.fragment,f),f.forEach(u),v=A(_),d=i(_,"DIV",{class:!0});var O=m(d);c=i(O,"DIV",{class:!0});var ae=m(c);g=i(ae,"DIV",{});var G=m(g);D=i(G,"SPAN",{class:!0});var Ee=m(D);w=S(Ee,C),Ee.forEach(u),h=A(G),L=i(G,"BR",{}),P=A(G),n=i(G,"SPAN",{class:!0});var W=m(n);R=S(W,p),x=S(W,", "),X=S(W,V),le=S(W,", "),Z=S(W,K),W.forEach(u),G.forEach(u),re=A(ae),N=i(ae,"DIV",{class:!0});var F=m(N);z=i(F,"SPAN",{class:!0});var _e=m(z);ne=S(_e,"Contact: "),ee=S(_e,Y),_e.forEach(u),oe=A(F),ie=i(F,"BR",{}),ce=A(F),H=i(F,"SPAN",{class:!0});var me=m(H);de=S(me,"Prinicpal: "),te=S(me,Q),me.forEach(u),F.forEach(u),ae.forEach(u),fe=A(O),J=i(O,"LABEL",{class:!0});var we=m(J);k=i(we,"INPUT",{class:!0,placeholder:!0}),we.forEach(u),O.forEach(u),ue=A(_),M=i(_,"DIV",{class:!0});var Le=m(M);B=i(Le,"TABLE",{class:!0});var se=m(B);U=i(se,"THEAD",{"data-svelte-h":!0}),$e(U)!=="svelte-1fnp01g"&&(U.innerHTML=ge),pe=A(se),j=i(se,"TBODY",{});var De=m(j);for(let ve=0;ve<b.length;ve+=1)b[ve].l(De);De.forEach(u),se.forEach(u),Le.forEach(u),_.forEach(u),this.h()},h(){E(l,"class","grid grid-cols-2 w-4/5"),E(D,"class","text-3xl"),E(n,"class","text-xl md:text-2xl"),E(z,"class","text-2xl"),E(H,"class","text-xl md:text-2xl break-words"),E(N,"class","pt-4 md:pt-0 md:justify-self-end"),E(c,"class","card pt-1 px-2 pb-4 grid md:grid-cols-2"),E(k,"class","input"),E(k,"placeholder","staff name"),E(J,"class","inp_size pt-4 svelte-1awoh19"),E(d,"class","w-4/5"),E(B,"class","table table-fixed"),E(M,"class","table-container w-4/5 pt-2"),E(t,"class","container")},m(a,_){Pe(a,t,_),e(t,l),Oe(r,l,null),e(t,v),e(t,d),e(d,c),e(c,g),e(g,D),e(D,w),e(g,h),e(g,L),e(g,P),e(g,n),e(n,R),e(n,x),e(n,X),e(n,le),e(n,Z),e(c,re),e(c,N),e(N,z),e(z,ne),e(z,ee),e(N,oe),e(N,ie),e(N,ce),e(N,H),e(H,de),e(H,te),e(d,fe),e(d,J),e(J,k),Ie(k,s[0]),e(t,ue),e(t,M),e(M,B),e(B,U),e(B,pe),e(B,j);for(let f=0;f<b.length;f+=1)b[f]&&b[f].m(j,null);$=!0,he||(be=ke(k,"input",s[3]),he=!0)},p(a,[_]){if((!$||_&2)&&C!==(C=a[1].name+"")&&y(w,C),(!$||_&2)&&p!==(p=a[1].address+"")&&y(R,p),(!$||_&2)&&V!==(V=a[1].city+"")&&y(X,V),(!$||_&2)&&K!==(K=a[1].state+"")&&y(Z,K),(!$||_&2)&&Y!==(Y=a[1].phone_number+"")&&y(ee,Y),(!$||_&2)&&Q!==(Q=a[1].principal_email+"")&&y(te,Q),_&1&&k.value!==a[0]&&Ie(k,a[0]),_&4){q=Se(a[2]);let f;for(f=0;f<q.length;f+=1){const O=Ae(a,q,f);b[f]?b[f].p(O,_):(b[f]=Ce(O),b[f].c(),b[f].m(j,null))}for(;f<b.length;f+=1)b[f].d(1);b.length=q.length}},i(a){$||(xe(r.$$.fragment,a),$=!0)},o(a){Je(r.$$.fragment,a),$=!1},d(a){a&&u(t),Me(r),ye(b,a),he=!1,be()}}}function Fe(s,t,l){const r=qe();let v={name:"Loading...",principal:"Loading...",principal_email:"Loading@loading.load",address:"Loading street",city:"Loaded City",state:"LD",zip_code:"12345",phone_number:"1-800-LOA-DING",website:"https://gradevuer.pages.dev/",staff:[]},d="",c=[];Ve(async()=>{Number.parseInt(sessionStorage.getItem("expiry")??"0")<Date.now()&&await Te("/"),l(1,v=await D()),l(2,c=v.staff)});function g(w){let h=[];v.staff.forEach(L=>{let[P,n]=L.name.split(",");Ge(w.toLowerCase(),(n+P).toLowerCase())&&h.push(L)}),l(2,c=h)}async function D(){const w={headers:{"Accept-Encoding":"br",Authorization:`Bearer ${sessionStorage.getItem("token")}`}},h=await fetch(`${je}/school`,w);if(h.headers.has("set-token")&&sessionStorage.setItem("token",h.headers.get("set-token")),h.status!=200){let L=await h.text();const P={message:`${L}`,background:"variant-filled-error bg-gradient-to-r from-error-400 to-error-600",timeout:3e3};throw r.trigger(P),await Te("/grades"),new Error(L)}return JSON.parse(await h.text())}function C(){d=this.value,l(0,d)}return s.$$.update=()=>{s.$$.dirty&1&&g(d)},[d,v,c,C]}class st extends Be{constructor(t){super(),Re(this,t,Fe,We,Ne,{})}}export{st as component};

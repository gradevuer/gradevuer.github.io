import{s as xe,q as ae,i as R,n as Re,d as u,r as ut,e as v,C as $,D as P,c as m,a as b,E as k,F as T,b as E,g as a,J as et,a2 as pt,H as tt,G as B,T as ke,U as ht,f as G,a3 as _t,B as vt}from"../chunks/scheduler.CxubwLq2.js";import{S as st,i as lt,b as Te,d as Ne,m as Fe,a as me,t as we,e as Se,g as mt,c as bt}from"../chunks/index.D9ug8rk0.js";import{e as le}from"../chunks/each.BY6V-KCU.js";import{W as gt}from"../chunks/main.D8RZwWgc.js";import{p as Et}from"../chunks/popup.DJ3zETT5.js";import{g as at}from"../chunks/stores.CJbd1DnH.js";import{g as wt}from"../chunks/stores.Bj6dW65N.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.DH4BMg8D.js";import{A as $t,a as kt}from"../chunks/AccordionItem.BGQKqPzI.js";import{g as Me}from"../chunks/entry.Cs-YgNc9.js";import{P as It}from"../chunks/pageSelector.CjfgKNAI.js";function Ue(e){let t,s,l,r,p,o=e[3][0]+"",i,d,g,D=e[3][1].presences+"",h,w,f=(e[3][1].presences/(e[3][1].presences+e[3][1].tardies+e[3][1].absences)*100).toFixed(2)+"",n,_,c,V,j=e[3][1].tardies+"",C,N,I=(e[3][1].tardies/(e[3][1].presences+e[3][1].tardies+e[3][1].absences)*100).toFixed(2)+"",H,F,S,A,K=e[3][1].absences+"",re,ne,J=(e[3][1].absences/(e[3][1].presences+e[3][1].tardies+e[3][1].absences)*100).toFixed(2)+"",X,ee,oe,U,L,ie,te,M,Z,ce;return{c(){t=v("div"),s=v("header"),l=$("Optimize to what %?"),r=P(),p=v("p"),i=$(o),d=P(),g=v("p"),h=$(D),w=$(" presences - "),n=$(f),_=$("%"),c=P(),V=v("p"),C=$(j),N=$(" tardies - "),H=$(I),F=$("%"),S=P(),A=v("p"),re=$(K),ne=$(" absences - "),X=$(J),ee=$("%"),oe=P(),U=v("footer"),L=v("button"),ie=$("Close"),this.h()},l(Y){t=m(Y,"DIV",{class:!0});var O=b(t);s=m(O,"HEADER",{class:!0});var de=b(s);l=k(de,"Optimize to what %?"),de.forEach(u),r=T(O),p=m(O,"P",{class:!0});var he=b(p);i=k(he,o),he.forEach(u),d=T(O),g=m(O,"P",{class:!0});var x=b(g);h=k(x,D),w=k(x," presences - "),n=k(x,f),_=k(x,"%"),x.forEach(u),c=T(O),V=m(O,"P",{class:!0});var W=b(V);C=k(W,j),N=k(W," tardies - "),H=k(W,I),F=k(W,"%"),W.forEach(u),S=T(O),A=m(O,"P",{class:!0});var z=b(A);re=k(z,K),ne=k(z," absences - "),X=k(z,J),ee=k(z,"%"),z.forEach(u),oe=T(O),U=m(O,"FOOTER",{class:!0});var q=b(U);L=m(q,"BUTTON",{class:!0});var Q=b(L);ie=k(Q,"Close"),Q.forEach(u),q.forEach(u),O.forEach(u),this.h()},h(){E(s,"class","text-2xl "+Pt+" svelte-1gjhdui"),E(p,"class","text-2xl"),E(g,"class","text-success-500 text-lg"),E(V,"class","text-warning-500 text-lg"),E(A,"class","text-error-500 text-lg"),E(L,"class",te="btn "+e[0].buttonNeutral+" svelte-1gjhdui"),E(U,"class",M="modal-footer "+e[0].regionFooter+" svelte-1gjhdui"),E(t,"class","modal-example-form "+Vt+" svelte-1gjhdui")},m(Y,O){R(Y,t,O),a(t,s),a(s,l),a(t,r),a(t,p),a(p,i),a(t,d),a(t,g),a(g,h),a(g,w),a(g,n),a(g,_),a(t,c),a(t,V),a(V,C),a(V,N),a(V,H),a(V,F),a(t,S),a(t,A),a(A,re),a(A,ne),a(A,X),a(A,ee),a(t,oe),a(t,U),a(U,L),a(L,ie),Z||(ce=et(L,"click",function(){pt(e[0].onClose)&&e[0].onClose.apply(this,arguments)}),Z=!0)},p(Y,O){e=Y,O&1&&te!==(te="btn "+e[0].buttonNeutral+" svelte-1gjhdui")&&E(L,"class",te),O&1&&M!==(M="modal-footer "+e[0].regionFooter+" svelte-1gjhdui")&&E(U,"class",M)},d(Y){Y&&u(t),Z=!1,ce()}}}function Dt(e){let t,s=e[1][0]&&Ue(e);return{c(){s&&s.c(),t=ae()},l(l){s&&s.l(l),t=ae()},m(l,r){s&&s.m(l,r),R(l,t,r)},p(l,[r]){l[1][0]?s?s.p(l,r):(s=Ue(l),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},i:Re,o:Re,d(l){l&&u(t),s&&s.d(l)}}}const Vt="card p-4 w-modal shadow-xl space-y-4",Pt="text-2xl font-bold";function Tt(e,t,s){let l,{parent:r}=t;const p=at();ut(e,p,i=>s(1,l=i));let o=l[0].meta.cl;return e.$$set=i=>{"parent"in i&&s(0,r=i.parent)},[r,l,p,o]}class Nt extends st{constructor(t){super(),lt(this,t,Tt,Dt,xe,{parent:0})}}function Le(e,t,s){const l=e.slice();return l[10]=t[s],l}function ze(e,t,s){const l=e.slice();return l[13]=t[s],l}function qe(e,t,s){const l=e.slice();return l[13]=t[s],l}function Je(e,t,s){const l=e.slice();return l[18]=t[s],l[20]=s,l}function We(e){let t,s,l=e[18][0]+"",r,p,o,i,d,g,D,h,w,f,n,_,c,V,j=e[18][0]+"",C,N,I,H=e[18][1].presences+"",F,S,A=(e[18][1].presences/(e[18][1].presences+e[18][1].tardies+e[18][1].absences)*100).toFixed(2)+"",K,re,ne,J,X=e[18][1].tardies+"",ee,oe,U=(e[18][1].tardies/(e[18][1].presences+e[18][1].tardies+e[18][1].absences)*100).toFixed(2)+"",L,ie,te,M,Z=e[18][1].absences+"",ce,Y,O=(e[18][1].absences/(e[18][1].presences+e[18][1].tardies+e[18][1].absences)*100).toFixed(2)+"",de,he,x,W,z,q,Q,Ie,fe,De,ue,Ve,Pe,ye;function rt(){return e[5](e[20])}return{c(){t=v("div"),s=v("p"),r=$(l),p=P(),o=v("div"),i=v("button"),d=v("div"),g=v("div"),D=v("div"),h=P(),w=v("div"),f=P(),n=v("div"),_=P(),c=v("div"),V=v("p"),C=$(j),N=P(),I=v("p"),F=$(H),S=$(" presences - "),K=$(A),re=$("%"),ne=P(),J=v("p"),ee=$(X),oe=$(" tardies - "),L=$(U),ie=$("%"),te=P(),M=v("p"),ce=$(Z),Y=$(" absences - "),de=$(O),he=$("%"),x=P(),W=v("div"),z=v("button"),q=v("div"),Q=v("div"),Ie=P(),fe=v("div"),De=P(),ue=v("div"),Ve=P(),this.h()},l(pe){t=m(pe,"DIV",{class:!0});var y=b(t);s=m(y,"P",{class:!0});var Ce=b(s);r=k(Ce,l),Ce.forEach(u),p=T(y),o=m(y,"DIV",{class:!0});var Ae=b(o);i=m(Ae,"BUTTON",{class:!0});var $e=b(i);d=m($e,"DIV",{class:!0});var Oe=b(d);g=m(Oe,"DIV",{class:!0});var _e=b(g);D=m(_e,"DIV",{class:!0,style:!0});var nt=b(D);nt.forEach(u),h=T(_e),w=m(_e,"DIV",{class:!0,style:!0});var ot=b(w);ot.forEach(u),f=T(_e),n=m(_e,"DIV",{class:!0,style:!0});var it=b(n);it.forEach(u),_e.forEach(u),Oe.forEach(u),_=T($e),c=m($e,"DIV",{class:!0,"data-popup":!0});var se=b(c);V=m(se,"P",{class:!0});var He=b(V);C=k(He,j),He.forEach(u),N=T(se),I=m(se,"P",{class:!0});var be=b(I);F=k(be,H),S=k(be," presences - "),K=k(be,A),re=k(be,"%"),be.forEach(u),ne=T(se),J=m(se,"P",{class:!0});var ge=b(J);ee=k(ge,X),oe=k(ge," tardies - "),L=k(ge,U),ie=k(ge,"%"),ge.forEach(u),te=T(se),M=m(se,"P",{class:!0});var Ee=b(M);ce=k(Ee,Z),Y=k(Ee," absences - "),de=k(Ee,O),he=k(Ee,"%"),Ee.forEach(u),se.forEach(u),$e.forEach(u),Ae.forEach(u),x=T(y),W=m(y,"DIV",{class:!0});var je=b(W);z=m(je,"BUTTON",{class:!0});var Be=b(z);q=m(Be,"DIV",{class:!0});var ve=b(q);Q=m(ve,"DIV",{class:!0,style:!0});var ct=b(Q);ct.forEach(u),Ie=T(ve),fe=m(ve,"DIV",{class:!0,style:!0});var dt=b(fe);dt.forEach(u),De=T(ve),ue=m(ve,"DIV",{class:!0,style:!0});var ft=b(ue);ft.forEach(u),ve.forEach(u),Be.forEach(u),je.forEach(u),Ve=T(y),y.forEach(u),this.h()},h(){E(s,"class","text-2xl text-nowrap overflow-ellipsis overflow-hidden"),E(D,"class","h-6 bg-success-500"),G(D,"width",e[18][1].presences/(e[18][1].presences+e[18][1].tardies+e[18][1].absences)*100+"%"),E(w,"class","h-6 bg-warning-500"),G(w,"width",e[18][1].tardies/(e[18][1].presences+e[18][1].tardies+e[18][1].absences)*100+"%"),E(n,"class","h-6 bg-error-500"),G(n,"width",e[18][1].absences/(e[18][1].presences+e[18][1].tardies+e[18][1].absences)*100+"%"),E(g,"class","self-center w-full h-6 preset-filled-surface-200-800 flex overflow-hidden border-surface-200-800"),E(d,"class","w-full [&>*]:pointer-events-none"),E(V,"class","text-lg"),E(I,"class","text-success-500"),E(J,"class","text-warning-500"),E(M,"class","text-error-500"),E(c,"class","card preset-filled-surface-100-900 p-2"),E(c,"data-popup","popupHover"+e[20]),E(i,"class","w-full mb-4"),E(o,"class","hidden md:block w-full self-center"),E(Q,"class","h-6 bg-success-500"),G(Q,"width",e[18][1].presences/(e[18][1].presences+e[18][1].tardies+e[18][1].absences)*100+"%"),E(fe,"class","h-6 bg-warning-500"),G(fe,"width",e[18][1].tardies/(e[18][1].presences+e[18][1].tardies+e[18][1].absences)*100+"%"),E(ue,"class","h-6 bg-error-500"),G(ue,"width",e[18][1].absences/(e[18][1].presences+e[18][1].tardies+e[18][1].absences)*100+"%"),E(q,"class","self-center w-full h-6 preset-filled-surface-200-800 flex overflow-hidden border-surface-200-800"),E(z,"class","w-full"),E(W,"class","md:hidden"),E(t,"class","grid md:grid-cols-2 md:gap-4 max-w-[90%] w-full")},m(pe,y){R(pe,t,y),a(t,s),a(s,r),a(t,p),a(t,o),a(o,i),a(i,d),a(d,g),a(g,D),a(g,h),a(g,w),a(g,f),a(g,n),a(i,_),a(i,c),a(c,V),a(V,C),a(c,N),a(c,I),a(I,F),a(I,S),a(I,K),a(I,re),a(c,ne),a(c,J),a(J,ee),a(J,oe),a(J,L),a(J,ie),a(c,te),a(c,M),a(M,ce),a(M,Y),a(M,de),a(M,he),a(t,x),a(t,W),a(W,z),a(z,q),a(q,Q),a(q,Ie),a(q,fe),a(q,De),a(q,ue),a(t,Ve),Pe||(ye=[_t(Et.call(null,d,e[4](e[20]))),et(z,"click",rt)],Pe=!0)},p(pe,y){e=pe,y&2&&l!==(l=e[18][0]+"")&&B(r,l),y&2&&G(D,"width",e[18][1].presences/(e[18][1].presences+e[18][1].tardies+e[18][1].absences)*100+"%"),y&2&&G(w,"width",e[18][1].tardies/(e[18][1].presences+e[18][1].tardies+e[18][1].absences)*100+"%"),y&2&&G(n,"width",e[18][1].absences/(e[18][1].presences+e[18][1].tardies+e[18][1].absences)*100+"%"),y&2&&j!==(j=e[18][0]+"")&&B(C,j),y&2&&H!==(H=e[18][1].presences+"")&&B(F,H),y&2&&A!==(A=(e[18][1].presences/(e[18][1].presences+e[18][1].tardies+e[18][1].absences)*100).toFixed(2)+"")&&B(K,A),y&2&&X!==(X=e[18][1].tardies+"")&&B(ee,X),y&2&&U!==(U=(e[18][1].tardies/(e[18][1].presences+e[18][1].tardies+e[18][1].absences)*100).toFixed(2)+"")&&B(L,U),y&2&&Z!==(Z=e[18][1].absences+"")&&B(ce,Z),y&2&&O!==(O=(e[18][1].absences/(e[18][1].presences+e[18][1].tardies+e[18][1].absences)*100).toFixed(2)+"")&&B(de,O),y&2&&G(Q,"width",e[18][1].presences/(e[18][1].presences+e[18][1].tardies+e[18][1].absences)*100+"%"),y&2&&G(fe,"width",e[18][1].tardies/(e[18][1].presences+e[18][1].tardies+e[18][1].absences)*100+"%"),y&2&&G(ue,"width",e[18][1].absences/(e[18][1].presences+e[18][1].tardies+e[18][1].absences)*100+"%")},d(pe){pe&&u(t),Pe=!1,vt(ye)}}}function Ft(e){let t=e[10].date+"",s,l,r=e[10].reason+"",p;return{c(){s=$(t),l=$(" - "),p=$(r)},l(o){s=k(o,t),l=k(o," - "),p=k(o,r)},m(o,i){R(o,s,i),R(o,l,i),R(o,p,i)},p(o,i){i&1&&t!==(t=o[10].date+"")&&B(s,t),i&1&&r!==(r=o[10].reason+"")&&B(p,r)},d(o){o&&(u(s),u(l),u(p))}}}function Ge(e){let t,s,l=e[13].name+"",r,p,o,i=e[13].absent?"‚ùå":e[13].tardy?"üü®":"‚úÖ",d,g,D,h=e[13].reason+"",w,f;return{c(){t=v("tr"),s=v("td"),r=$(l),p=P(),o=v("td"),d=$(i),g=P(),D=v("td"),w=$(h),f=P()},l(n){t=m(n,"TR",{});var _=b(t);s=m(_,"TD",{});var c=b(s);r=k(c,l),c.forEach(u),p=T(_),o=m(_,"TD",{});var V=b(o);d=k(V,i),V.forEach(u),g=T(_),D=m(_,"TD",{});var j=b(D);w=k(j,h),j.forEach(u),f=T(_),_.forEach(u)},m(n,_){R(n,t,_),a(t,s),a(s,r),a(t,p),a(t,o),a(o,d),a(t,g),a(t,D),a(D,w),a(t,f)},p(n,_){_&1&&l!==(l=n[13].name+"")&&B(r,l),_&1&&i!==(i=n[13].absent?"‚ùå":n[13].tardy?"üü®":"‚úÖ")&&B(d,i),_&1&&h!==(h=n[13].reason+"")&&B(w,h)},d(n){n&&u(t)}}}function Ke(e){let t,s=e[13].reason!="Not Included"&&Ge(e);return{c(){s&&s.c(),t=ae()},l(l){s&&s.l(l),t=ae()},m(l,r){s&&s.m(l,r),R(l,t,r)},p(l,r){l[13].reason!="Not Included"?s?s.p(l,r):(s=Ge(l),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},d(l){l&&u(t),s&&s.d(l)}}}function Ye(e){let t,s,l=e[13].name+"",r,p,o=e[13].reason.trim()==""?e[13].absent?"‚ùå":e[13].tardy?"üü®":"‚úÖ":"",i,d,g=e[13].reason.trim()!="",D,h=g&&Qe(e);return{c(){t=v("div"),s=v("p"),r=$(l),p=P(),i=$(o),d=P(),h&&h.c(),D=P(),this.h()},l(w){t=m(w,"DIV",{class:!0});var f=b(t);s=m(f,"P",{class:!0});var n=b(s);r=k(n,l),p=T(n),i=k(n,o),n.forEach(u),d=T(f),h&&h.l(f),D=T(f),f.forEach(u),this.h()},h(){E(s,"class","text-xl"),E(t,"class","card p-2 mb-2")},m(w,f){R(w,t,f),a(t,s),a(s,r),a(s,p),a(s,i),a(t,d),h&&h.m(t,null),a(t,D)},p(w,f){f&1&&l!==(l=w[13].name+"")&&B(r,l),f&1&&o!==(o=w[13].reason.trim()==""?w[13].absent?"‚ùå":w[13].tardy?"üü®":"‚úÖ":"")&&B(i,o),f&1&&(g=w[13].reason.trim()!=""),g?h?h.p(w,f):(h=Qe(w),h.c(),h.m(t,D)):h&&(h.d(1),h=null)},d(w){w&&u(t),h&&h.d()}}}function Qe(e){let t,s=e[13].reason+"",l,r,p=e[13].absent?"‚ùå":e[13].tardy?"üü®":"‚úÖ",o;return{c(){t=v("p"),l=$(s),r=P(),o=$(p),this.h()},l(i){t=m(i,"P",{class:!0});var d=b(t);l=k(d,s),r=T(d),o=k(d,p),d.forEach(u),this.h()},h(){E(t,"class","text-md")},m(i,d){R(i,t,d),a(t,l),a(t,r),a(t,o)},p(i,d){d&1&&s!==(s=i[13].reason+"")&&B(l,s),d&1&&p!==(p=i[13].absent?"‚ùå":i[13].tardy?"üü®":"‚úÖ")&&B(o,p)},d(i){i&&u(t)}}}function Xe(e){let t,s=e[13].reason!="Not Included"&&Ye(e);return{c(){s&&s.c(),t=ae()},l(l){s&&s.l(l),t=ae()},m(l,r){s&&s.m(l,r),R(l,t,r)},p(l,r){l[13].reason!="Not Included"?s?s.p(l,r):(s=Ye(l),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},d(l){l&&u(t),s&&s.d(l)}}}function St(e){let t,s,l,r='<tr><th class="table-cell-fit">Name</th> <th class="table-cell-fit">Present?</th> <th class="table-cell-fit">Reason</th></tr>',p,o,i,d,g,D=le(e[10].periods),h=[];for(let n=0;n<D.length;n+=1)h[n]=Ke(qe(e,D,n));let w=le(e[10].periods),f=[];for(let n=0;n<w.length;n+=1)f[n]=Xe(ze(e,w,n));return{c(){t=v("div"),s=v("table"),l=v("thead"),l.innerHTML=r,p=P(),o=v("tbody");for(let n=0;n<h.length;n+=1)h[n].c();i=P(),d=v("div");for(let n=0;n<f.length;n+=1)f[n].c();g=P(),this.h()},l(n){t=m(n,"DIV",{class:!0});var _=b(t);s=m(_,"TABLE",{class:!0});var c=b(s);l=m(c,"THEAD",{"data-svelte-h":!0}),tt(l)!=="svelte-1nnuyy1"&&(l.innerHTML=r),p=T(c),o=m(c,"TBODY",{class:!0});var V=b(o);for(let C=0;C<h.length;C+=1)h[C].l(V);V.forEach(u),c.forEach(u),_.forEach(u),i=T(n),d=m(n,"DIV",{class:!0});var j=b(d);for(let C=0;C<f.length;C+=1)f[C].l(j);j.forEach(u),g=T(n),this.h()},h(){E(o,"class","[&>tr]:hover:preset-tonal-primary"),E(s,"class","table table-fixed"),E(t,"class","table-container w-full pt-2 hidden md:block"),E(d,"class","md:hidden")},m(n,_){R(n,t,_),a(t,s),a(s,l),a(s,p),a(s,o);for(let c=0;c<h.length;c+=1)h[c]&&h[c].m(o,null);R(n,i,_),R(n,d,_);for(let c=0;c<f.length;c+=1)f[c]&&f[c].m(d,null);R(n,g,_)},p(n,_){if(_&1){D=le(n[10].periods);let c;for(c=0;c<D.length;c+=1){const V=qe(n,D,c);h[c]?h[c].p(V,_):(h[c]=Ke(V),h[c].c(),h[c].m(o,null))}for(;c<h.length;c+=1)h[c].d(1);h.length=D.length}if(_&1){w=le(n[10].periods);let c;for(c=0;c<w.length;c+=1){const V=ze(n,w,c);f[c]?f[c].p(V,_):(f[c]=Xe(V),f[c].c(),f[c].m(d,null))}for(;c<f.length;c+=1)f[c].d(1);f.length=w.length}},d(n){n&&(u(t),u(i),u(d),u(g)),ke(h,n),ke(f,n)}}}function Ze(e){let t,s;return t=new kt({props:{$$slots:{content:[St],summary:[Ft]},$$scope:{ctx:e}}}),{c(){Te(t.$$.fragment)},l(l){Ne(t.$$.fragment,l)},m(l,r){Fe(t,l,r),s=!0},p(l,r){const p={};r&2097153&&(p.$$scope={dirty:r,ctx:l}),t.$set(p)},i(l){s||(me(t.$$.fragment,l),s=!0)},o(l){we(t.$$.fragment,l),s=!1},d(l){Se(t,l)}}}function yt(e){let t,s,l=le(e[0]),r=[];for(let o=0;o<l.length;o+=1)r[o]=Ze(Le(e,l,o));const p=o=>we(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();t=ae()},l(o){for(let i=0;i<r.length;i+=1)r[i].l(o);t=ae()},m(o,i){for(let d=0;d<r.length;d+=1)r[d]&&r[d].m(o,i);R(o,t,i),s=!0},p(o,i){if(i&1){l=le(o[0]);let d;for(d=0;d<l.length;d+=1){const g=Le(o,l,d);r[d]?(r[d].p(g,i),me(r[d],1)):(r[d]=Ze(g),r[d].c(),me(r[d],1),r[d].m(t.parentNode,t))}for(mt(),d=l.length;d<r.length;d+=1)p(d);bt()}},i(o){if(!s){for(let i=0;i<l.length;i+=1)me(r[i]);s=!0}},o(o){r=r.filter(Boolean);for(let i=0;i<r.length;i+=1)we(r[i]);s=!1},d(o){o&&u(t),ke(r,o)}}}function Ct(e){let t,s,l,r,p,o=(e[2]*100).toFixed(2)+"",i,d,g,D,h="Attendance Rate",w,f,n,_,c,V,j;n=new It({props:{classes:"select preset-tonal-primary border border-primary-500",selected:"attendance"}});let C=le(e[1]),N=[];for(let I=0;I<C.length;I+=1)N[I]=We(Je(e,C,I));return V=new $t({props:{class:"mt-4 mx-2",$$slots:{default:[yt]},$$scope:{ctx:e}}}),{c(){t=v("div"),s=v("div"),l=P(),r=v("div"),p=v("p"),i=$(o),d=$("%"),g=P(),D=v("p"),D.textContent=h,w=P(),f=v("div"),Te(n.$$.fragment),_=P();for(let I=0;I<N.length;I+=1)N[I].c();c=P(),Te(V.$$.fragment),this.h()},l(I){t=m(I,"DIV",{class:!0});var H=b(t);s=m(H,"DIV",{class:!0}),b(s).forEach(u),l=T(H),r=m(H,"DIV",{});var F=b(r);p=m(F,"P",{class:!0});var S=b(p);i=k(S,o),d=k(S,"%"),S.forEach(u),g=T(F),D=m(F,"P",{class:!0,"data-svelte-h":!0}),tt(D)!=="svelte-j4fba8"&&(D.textContent=h),w=T(F),f=m(F,"DIV",{class:!0});var A=b(f);Ne(n.$$.fragment,A),_=T(A);for(let K=0;K<N.length;K+=1)N[K].l(A);A.forEach(u),c=T(F),Ne(V.$$.fragment,F),F.forEach(u),H.forEach(u),this.h()},h(){E(s,"class","grid grid-cols-2 w-4/5"),E(p,"class","text-7xl text-center"),E(D,"class","text-3xl text-center"),E(f,"class","flex flex-col items-center"),E(t,"class","flex items-center justify-center my-[3%] flex-col w-full")},m(I,H){R(I,t,H),a(t,s),a(t,l),a(t,r),a(r,p),a(p,i),a(p,d),a(r,g),a(r,D),a(r,w),a(r,f),Fe(n,f,null),a(f,_);for(let F=0;F<N.length;F+=1)N[F]&&N[F].m(f,null);a(r,c),Fe(V,r,null),j=!0},p(I,[H]){if((!j||H&4)&&o!==(o=(I[2]*100).toFixed(2)+"")&&B(i,o),H&26){C=le(I[1]);let S;for(S=0;S<C.length;S+=1){const A=Je(I,C,S);N[S]?N[S].p(A,H):(N[S]=We(A),N[S].c(),N[S].m(f,null))}for(;S<N.length;S+=1)N[S].d(1);N.length=C.length}const F={};H&2097153&&(F.$$scope={dirty:H,ctx:I}),V.$set(F)},i(I){j||(me(n.$$.fragment,I),me(V.$$.fragment,I),j=!0)},o(I){we(n.$$.fragment,I),we(V.$$.fragment,I),j=!1},d(I){I&&u(t),Se(n),ke(N,I),Se(V)}}}function At(e,t,s){const l=wt();let r=[],p=[],o=0;ht(async()=>{Number.parseInt(sessionStorage.getItem("expiry")??"0")<Date.now()&&await Me("/");let f=await i();s(0,r=f.absences),s(1,p=Object.entries(f.counts)),s(2,o=d())});async function i(){const f={headers:{"Accept-Encoding":"br",Authorization:`Bearer ${sessionStorage.getItem("token")}`}},n=await fetch(`${gt}/attendance`,f);if(n.headers.has("set-token")&&sessionStorage.setItem("token",n.headers.get("set-token")),n.status!=200){let _=await n.text();const c={message:`${_}`,background:"variant-filled-error bg-gradient-to-r from-error-400 to-error-600",timeout:3e3};throw l.trigger(c),await Me("/grades"),new Error(_)}return JSON.parse(await n.text())}let d=()=>{let f=0,n=0;return p.forEach(_=>{f+=_[1].presences+_[1].tardies,n+=_[1].presences+_[1].tardies+_[1].absences}),n===0?0:f/n};function g(f){const n={ref:Nt},_={type:"component",title:"Please Confirm",body:"Are you sure you wish to proceed?",meta:{cl:p[f]},component:n};h.trigger(_)}const D=f=>({event:"hover",target:"popupHover"+f,placement:"top"}),h=at();return[r,p,o,g,D,f=>{g(f)}]}class Wt extends st{constructor(t){super(),lt(this,t,At,Ct,xe,{})}}export{Wt as component};

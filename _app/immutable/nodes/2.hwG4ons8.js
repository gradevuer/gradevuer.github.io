import{s as oe,l as ie,e as d,m as A,R as ce,c as p,d as m,p as P,a as $,k as O,b as c,g as o,i as T,S as V,r as W,u as ue,y as de,o as pe,t as ee,q as te,f as me,v as fe,n as E}from"../chunks/scheduler.DMWpDARK.js";import{h as Q,u as he}from"../chunks/await_block.BGO7msMI.js";import{S as ge,i as _e,b as be,c as ae,a as se,m as ne,t as G,d as H,e as le}from"../chunks/index.BR94DFz2.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.Q42aMCKc.js";import{P as ve}from"../chunks/ProgressBar.DFrBN768.js";import{S as ke}from"../chunks/SlideToggle.D7rq-FRo.js";import{g as Z}from"../chunks/entry.D0yI4M1N.js";import{W as ye}from"../chunks/main.DlQOQXQP.js";import{u as Se}from"../chunks/pack.CTx6hWTx.js";import{b as Ee,a as we}from"../chunks/util.UZ_QSrM9.js";function Ie(s){let t;return{c(){t=ee("Remember me")},l(e){t=te(e,"Remember me")},m(e,n){T(e,t,n)},d(e){e&&m(t)}}}function $e(s){let t,e,n,a="Error",l,r,v=s[9].message+"",k;return{c(){t=d("aside"),e=d("div"),n=d("h3"),n.textContent=a,l=A(),r=d("p"),k=ee(v),this.h()},l(i){t=p(i,"ASIDE",{class:!0});var b=$(t);e=p(b,"DIV",{class:!0});var g=$(e);n=p(g,"H3",{class:!0,"data-svelte-h":!0}),O(n)!=="svelte-mmnhjy"&&(n.textContent=a),l=P(g),r=p(g,"P",{});var _=$(r);k=te(_,v),_.forEach(m),g.forEach(m),b.forEach(m),this.h()},h(){c(n,"class","h3"),c(e,"class","alert-message -3"),c(t,"class","alert errorw incorrect variant-ghost-error text-left svelte-1rgklt7"),me(t,"margin-top","10px")},m(i,b){T(i,t,b),o(t,e),o(e,n),o(e,l),o(e,r),o(r,k)},p(i,b){b&8&&v!==(v=i[9].message+"")&&fe(k,v)},i:E,o:E,d(i){i&&m(t)}}}function Ce(s){return{c:E,l:E,m:E,p:E,i:E,o:E,d:E}}function xe(s){let t,e,n;return e=new ve({props:{meter:"bg-gradient-to-r from-secondary-400 to-secondary-600"}}),{c(){t=d("div"),ae(e.$$.fragment),this.h()},l(a){t=p(a,"DIV",{class:!0});var l=$(t);se(e.$$.fragment,l),l.forEach(m),this.h()},h(){c(t,"class","loading svelte-1rgklt7")},m(a,l){T(a,t,l),ne(e,t,null),n=!0},p:E,i(a){n||(G(e.$$.fragment,a),n=!0)},o(a){H(e.$$.fragment,a),n=!1},d(a){a&&m(t),le(e)}}}function Ae(s){let t,e,n,a,l,r,v="Username",k,i,b,g,_,B="Password",C,y,Y,L,w,j,q,I,K="Login",z,N,R,J,M;function re(h){s[7](h)}let X={name:"cookie",active:"bg-gradient-to-r from-secondary-200 to-secondary-700",size:"sm",$$slots:{default:[Ie]},$$scope:{ctx:s}};s[0]!==void 0&&(X.checked=s[0]),w=new ke({props:X}),ie.push(()=>be(w,"checked",re));let f={ctx:s,current:null,token:null,hasCatch:!0,pending:xe,then:Ce,catch:$e,error:9,blocks:[,,,]};return Q(N=s[3],f),{c(){t=d("meta"),e=A(),n=d("div"),a=d("div"),l=d("label"),r=d("span"),r.textContent=v,k=A(),i=d("input"),b=A(),g=d("label"),_=d("span"),_.textContent=B,C=A(),y=d("input"),Y=A(),L=d("label"),ae(w.$$.fragment),q=A(),I=d("button"),I.textContent=K,z=A(),f.block.c(),this.h()},l(h){const u=ce("svelte-1il1nia",document.head);t=p(u,"META",{name:!0,content:!0}),u.forEach(m),e=P(h),n=p(h,"DIV",{class:!0});var S=$(n);a=p(S,"DIV",{class:!0});var x=$(a);l=p(x,"LABEL",{class:!0});var U=$(l);r=p(U,"SPAN",{"data-svelte-h":!0}),O(r)!=="svelte-9difb2"&&(r.textContent=v),k=P(U),i=p(U,"INPUT",{class:!0,placeholder:!0}),U.forEach(m),b=P(x),g=p(x,"LABEL",{class:!0});var D=$(g);_=p(D,"SPAN",{"data-svelte-h":!0}),O(_)!=="svelte-1kvjhoz"&&(_.textContent=B),C=P(D),y=p(D,"INPUT",{class:!0,type:!0,placeholder:!0}),D.forEach(m),Y=P(x),L=p(x,"LABEL",{class:!0});var F=$(L);se(w.$$.fragment,F),F.forEach(m),q=P(x),I=p(x,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),O(I)!=="svelte-1srbuiy"&&(I.textContent=K),x.forEach(m),z=P(S),f.block.l(S),S.forEach(m),this.h()},h(){c(t,"name","google-site-verification"),c(t,"content","4YFyS1a7Ixvl_XHgVYcScG1RK3fXqElYSWJ_fvvYiyg"),c(i,"class","input"),c(i,"placeholder","id"),c(l,"class","label text-left"),c(y,"class","input"),c(y,"type","password"),c(y,"placeholder","password"),c(g,"class","label text-left"),c(L,"class","flex items-center space-x-2"),c(I,"type","button"),c(I,"class","btn login bg-gradient-to-br variant-gradient-primary-tertiary svelte-1rgklt7"),c(a,"class","card p-4 window text-token space-y-4 text-center svelte-1rgklt7"),c(n,"class","container")},m(h,u){o(document.head,t),T(h,e,u),T(h,n,u),o(n,a),o(a,l),o(l,r),o(l,k),o(l,i),V(i,s[1]),o(a,b),o(a,g),o(g,_),o(g,C),o(g,y),V(y,s[2]),o(a,Y),o(a,L),ne(w,L,null),o(a,q),o(a,I),o(n,z),f.block.m(n,f.anchor=null),f.mount=()=>n,f.anchor=null,R=!0,J||(M=[W(i,"input",s[5]),W(y,"input",s[6]),W(I,"click",s[8])],J=!0)},p(h,[u]){s=h,u&2&&i.value!==s[1]&&V(i,s[1]),u&4&&y.value!==s[2]&&V(y,s[2]);const S={};u&1024&&(S.$$scope={dirty:u,ctx:s}),!j&&u&1&&(j=!0,S.checked=s[0],ue(()=>j=!1)),w.$set(S),f.ctx=s,u&8&&N!==(N=s[3])&&Q(N,f)||he(f,s,u)},i(h){R||(G(w.$$.fragment,h),G(f.block),R=!0)},o(h){H(w.$$.fragment,h);for(let u=0;u<3;u+=1){const S=f.blocks[u];H(S)}R=!1},d(h){h&&(m(e),m(n)),m(t),le(w),f.block.d(),f.token=null,f=null,J=!1,de(M)}}}function Pe(s,t,e){pe(async()=>{e(1,l=localStorage.getItem("name")??""),e(2,r=localStorage.getItem("pass")??""),e(0,a=l!=""||r!="")});async function n(){if(l=="admin"&&r=="admin"){Z("/admin");return}const _={headers:{"Content-Type":"application/json","Accept-Encoding":"br",Authorization:`Basic ${Ee(l+":"+r)}`}},B=await fetch(`${ye}/grades`,_);if(B.status!=200)throw new Error(await B.text());a?(localStorage.setItem("name",l),localStorage.setItem("pass",r)):localStorage.clear();let C=Se(new Uint8Array(await B.arrayBuffer()));sessionStorage.setItem("token",we(C.token)),C.token=new Uint8Array,sessionStorage.setItem("data",JSON.stringify(C)),sessionStorage.setItem("cdata",JSON.stringify(C)),sessionStorage.setItem("expiry",(Date.now()+1e3*60*15).toString()),await Z("/grades")}let a=!1,l="",r="",v;function k(){l=this.value,e(1,l)}function i(){r=this.value,e(2,r)}function b(_){a=_,e(0,a)}return[a,l,r,v,n,k,i,b,()=>{e(3,v=n())}]}class je extends ge{constructor(t){super(),_e(this,t,Pe,Ae,oe,{})}}export{je as component};
